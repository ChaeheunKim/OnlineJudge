[2025-11-10 09:24:25 +0000] [155] [INFO] Starting gunicorn 21.2.0
[2025-11-10 09:24:25 +0000] [155] [INFO] Listening at: http://127.0.0.1:8080 (155)
[2025-11-10 09:24:25 +0000] [155] [INFO] Using worker: gthread
[2025-11-10 09:24:25 +0000] [165] [INFO] Booting worker with pid: 165
[2025-11-10 09:24:25 +0000] [166] [INFO] Booting worker with pid: 166
[2025-11-10 09:24:25 +0000] [167] [INFO] Booting worker with pid: 167
[2025-11-10 09:24:25 +0000] [168] [INFO] Booting worker with pid: 168
[2025-11-10 09:24:25 +0000] [169] [INFO] Booting worker with pid: 169
[2025-11-10 09:24:25 +0000] [170] [INFO] Booting worker with pid: 170
[2025-11-10 09:24:25 +0000] [171] [INFO] Booting worker with pid: 171
[2025-11-10 09:24:25 +0000] [172] [INFO] Booting worker with pid: 172
[2025-11-10 09:44:00 +0000] [155] [INFO] Handling signal: term
[2025-11-10 09:44:00 +0000] [166] [INFO] Worker exiting (pid: 166)
[2025-11-10 09:44:00 +0000] [172] [INFO] Worker exiting (pid: 172)
[2025-11-10 09:44:00 +0000] [167] [INFO] Worker exiting (pid: 167)
[2025-11-10 09:44:00 +0000] [168] [INFO] Worker exiting (pid: 168)
[2025-11-10 09:44:00 +0000] [171] [INFO] Worker exiting (pid: 171)
[2025-11-10 09:44:00 +0000] [169] [INFO] Worker exiting (pid: 169)
[2025-11-10 09:44:01 +0000] [165] [INFO] Worker exiting (pid: 165)
[2025-11-10 10:09:03 +0000] [113] [INFO] Starting gunicorn 21.2.0
[2025-11-10 10:09:03 +0000] [113] [INFO] Listening at: http://127.0.0.1:8080 (113)
[2025-11-10 10:09:03 +0000] [113] [INFO] Using worker: gthread
[2025-11-10 10:09:03 +0000] [123] [INFO] Booting worker with pid: 123
[2025-11-10 10:09:03 +0000] [124] [INFO] Booting worker with pid: 124
[2025-11-10 10:09:03 +0000] [125] [INFO] Booting worker with pid: 125
[2025-11-10 10:09:03 +0000] [126] [INFO] Booting worker with pid: 126
[2025-11-10 10:09:03 +0000] [127] [INFO] Booting worker with pid: 127
[2025-11-10 10:09:03 +0000] [128] [INFO] Booting worker with pid: 128
[2025-11-10 10:09:03 +0000] [129] [INFO] Booting worker with pid: 129
[2025-11-10 10:09:03 +0000] [130] [INFO] Booting worker with pid: 130
[2025-11-10 11:57:18 +0000] [113] [INFO] Handling signal: term
[2025-11-10 11:57:18 +0000] [125] [INFO] Worker exiting (pid: 125)
[2025-11-10 11:57:19 +0000] [123] [INFO] Worker exiting (pid: 123)
[2025-11-10 11:57:19 +0000] [124] [INFO] Worker exiting (pid: 124)
[2025-11-10 11:57:19 +0000] [129] [INFO] Worker exiting (pid: 129)
[2025-11-11 06:59:00 +0000] [122] [INFO] Starting gunicorn 21.2.0
[2025-11-11 06:59:00 +0000] [122] [INFO] Listening at: http://127.0.0.1:8080 (122)
[2025-11-11 06:59:00 +0000] [122] [INFO] Using worker: gthread
[2025-11-11 06:59:00 +0000] [132] [INFO] Booting worker with pid: 132
[2025-11-11 06:59:00 +0000] [133] [INFO] Booting worker with pid: 133
[2025-11-11 06:59:00 +0000] [134] [INFO] Booting worker with pid: 134
[2025-11-11 06:59:00 +0000] [135] [INFO] Booting worker with pid: 135
[2025-11-11 06:59:00 +0000] [136] [INFO] Booting worker with pid: 136
[2025-11-11 06:59:01 +0000] [137] [INFO] Booting worker with pid: 137
[2025-11-11 06:59:01 +0000] [138] [INFO] Booting worker with pid: 138
[2025-11-11 06:59:01 +0000] [139] [INFO] Booting worker with pid: 139
[2025-11-13 05:05:14 +0000] [256] [INFO] Starting gunicorn 21.2.0
[2025-11-13 05:05:14 +0000] [256] [INFO] Listening at: http://127.0.0.1:8080 (256)
[2025-11-13 05:05:14 +0000] [256] [INFO] Using worker: gthread
[2025-11-13 05:05:14 +0000] [266] [INFO] Booting worker with pid: 266
[2025-11-13 05:05:14 +0000] [267] [INFO] Booting worker with pid: 267
[2025-11-13 05:05:14 +0000] [268] [INFO] Booting worker with pid: 268
[2025-11-13 05:05:15 +0000] [269] [INFO] Booting worker with pid: 269
[2025-11-13 05:05:15 +0000] [270] [INFO] Booting worker with pid: 270
[2025-11-13 05:05:15 +0000] [271] [INFO] Booting worker with pid: 271
[2025-11-13 05:05:15 +0000] [272] [INFO] Booting worker with pid: 272
[2025-11-13 05:05:15 +0000] [273] [INFO] Booting worker with pid: 273
[2025-11-13 05:05:19] - [ERROR] - [django_dbconn_retry.apps:55]  - Reconnecting to the database didn't help connection to server at "oj-postgres" (172.18.0.3), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

[2025-11-13 05:05:20 +0000] [256] [INFO] Handling signal: term
[2025-11-13 05:05:20 +0000] [266] [INFO] Worker exiting (pid: 266)
[2025-11-13 05:05:20 +0000] [267] [INFO] Worker exiting (pid: 267)
[2025-11-13 05:05:20 +0000] [270] [INFO] Worker exiting (pid: 270)
[2025-11-13 05:05:20 +0000] [272] [INFO] Worker exiting (pid: 272)
[2025-11-13 05:05:20 +0000] [269] [INFO] Worker exiting (pid: 269)
[2025-11-13 05:05:20 +0000] [271] [INFO] Worker exiting (pid: 271)
[2025-11-13 05:05:20 +0000] [268] [INFO] Worker exiting (pid: 268)
[2025-11-13 05:05:21] - [ERROR] - [root:156]  - connection to server at "oj-postgres" (172.18.0.3), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django_dbconn_retry/apps.py", line 51, in ensure_connection_with_retries
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/django/utils/asyncio.py", line 33, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/db/backends/base/base.py", line 200, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/utils/asyncio.py", line 33, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/db/backends/postgresql/base.py", line 187, in get_new_connection
    connection = Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "oj-postgres" (172.18.0.3), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django_dbconn_retry/apps.py", line 51, in ensure_connection_with_retries
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/django/utils/asyncio.py", line 33, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/db/backends/base/base.py", line 200, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/utils/asyncio.py", line 33, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/db/backends/postgresql/base.py", line 187, in get_new_connection
    connection = Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "oj-postgres" (172.18.0.3), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/utils/api/api.py", line 149, in dispatch
    return super(APIView, self).dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 98, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/utils/api/api.py", line 181, in handle
    return view_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/conf/views.py", line 137, in post
    if hashlib.sha256(SysOptions.judge_server_token.encode("utf-8")).hexdigest() != client_token:
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/options/options.py", line 67, in __get__
    return self.func(obj)
           ^^^^^^^^^^^^^^
  File "/app/options/options.py", line 242, in judge_server_token
    return cls._get_option(OptionKeys.judge_server_token)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/options/options.py", line 142, in _get_option
    option = SysOptionsModel.objects.get(key=option_key)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/db/models/manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/db/models/query.py", line 431, in get
    num = len(clone)
          ^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/db/models/query.py", line 262, in __len__
    self._fetch_all()
  File "/usr/local/lib/python3.12/site-packages/django/db/models/query.py", line 1324, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/db/models/query.py", line 51, in __iter__
    results = compiler.execute_sql(chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/db/models/sql/compiler.py", line 1173, in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/utils/asyncio.py", line 33, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/db/backends/base/base.py", line 259, in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/db/backends/base/base.py", line 235, in _cursor
    self.ensure_connection()
  File "/usr/local/lib/python3.12/site-packages/django_dbconn_retry/apps.py", line 69, in ensure_connection_with_retries
    self.ensure_connection()
  File "/usr/local/lib/python3.12/site-packages/django_dbconn_retry/apps.py", line 48, in ensure_connection_with_retries
    with self.wrap_database_errors:
  File "/usr/local/lib/python3.12/site-packages/django/db/utils.py", line 90, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.12/site-packages/django_dbconn_retry/apps.py", line 51, in ensure_connection_with_retries
    self.connect()
  File "/usr/local/lib/python3.12/site-packages/django/utils/asyncio.py", line 33, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/db/backends/base/base.py", line 200, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/utils/asyncio.py", line 33, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/db/backends/postgresql/base.py", line 187, in get_new_connection
    connection = Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: connection to server at "oj-postgres" (172.18.0.3), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

[2025-11-13 05:05:22 +0000] [273] [INFO] Worker exiting (pid: 273)
